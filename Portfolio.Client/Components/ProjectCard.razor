@if (!string.IsNullOrEmpty(ItchUrl))
{
    @if (!IsHorizontal)
    {
        <!-- Vertical Card (Personal Projects) -->
        <a href="@ItchUrl" target="_blank" class="group block bg-card-dark rounded-xl border border-white/5 overflow-hidden hover:border-primary/50 transition-all cursor-pointer">
            <div class="aspect-video bg-slate-800 relative overflow-hidden">
                @if (!string.IsNullOrEmpty(ImagePath))
                {
                    <img src="@ImagePath" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" />
                }
                else
                {
                    <div class="w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-primary/30 via-transparent to-transparent opacity-20 group-hover:scale-110 transition-transform"></div>
                    
                    <!-- Icon -->
                    <div class="absolute inset-0 flex items-center justify-center">
                        <span class="material-symbols-outlined text-5xl text-white/10 group-hover:text-primary transition-colors">joystick</span>
                    </div>
                }

                <!-- Background Gradients (Overlay) -->
                <div class="absolute inset-0 bg-gradient-to-br from-primary/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"></div>
                
                <!-- Tags -->
                <div class="absolute bottom-4 left-4 flex gap-2">
                    @if (!string.IsNullOrEmpty(StatusTag))
                    {
                        <span class="px-2 py-1 rounded bg-black/60 backdrop-blur-sm text-[10px] font-bold text-white uppercase">@StatusTag</span>
                    }
                    @if (!string.IsNullOrEmpty(SecondaryTag))
                    {
                        <span class="px-2 py-1 rounded bg-primary/80 backdrop-blur-sm text-[10px] font-bold text-white uppercase">@SecondaryTag</span>
                    }
                </div>
            </div>
            
            <div class="p-6 space-y-3">
                <h3 class="text-xl font-bold text-white group-hover:text-primary transition-colors">@Title</h3>
                <p class="text-sm text-slate-400 leading-relaxed">@Description</p>
                
                @if (TechStack != null && TechStack.Count > 0)
                {
                    <div class="flex flex-wrap gap-2 pt-2">
                        @foreach (var tech in TechStack)
                        {
                            <span class="text-[10px] font-bold text-slate-500 uppercase">@tech</span>
                        }
                    </div>
                }
            </div>
        </a>
    }
    else
    {
        <!-- Horizontal Card (School Projects) -->
        <a href="@ItchUrl" target="_blank" class="group flex flex-col md:flex-row gap-6 p-4 rounded-xl bg-card-dark/50 hover:bg-card-dark border border-transparent hover:border-white/5 transition-all">
            <!-- Thumbnail -->
            <div class="w-full md:w-48 h-32 shrink-0 rounded-lg bg-slate-800 flex items-center justify-center overflow-hidden border border-white/5 relative">
                @if (!string.IsNullOrEmpty(ImagePath))
                {
                    <img src="@ImagePath" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" />
                    <div class="absolute inset-0 bg-gradient-to-br from-primary/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"></div>
                }
                else
                {
                    <div class="w-full h-full bg-gradient-to-r from-blue-500/10 to-primary/10 flex items-center justify-center">
                        <span class="material-symbols-outlined text-3xl text-white/20">school</span>
                    </div>
                }
            </div>
            
            <div class="flex-1 py-2">
                <div class="flex justify-between items-start">
                    <h3 class="text-lg font-bold text-white group-hover:text-primary transition-colors">@Title</h3>
                    @if (!string.IsNullOrEmpty(Year))
                    {
                        <span class="text-xs font-mono text-slate-500">@Year</span>
                    }
                </div>
                <p class="text-sm text-slate-400 mt-2">@Description</p>
                
                @if (TechStack != null && TechStack.Count > 0)
                {
                    <div class="flex gap-4 mt-4">
                        @foreach (var tech in TechStack)
                        {
                            <span class="text-[10px] text-slate-500 font-bold uppercase tracking-wider">@tech</span>
                        }
                    </div>
                }
            </div>
        </a>
    }
}
else
{
    @if (!IsHorizontal)
    {
        <!-- Vertical Card (Personal Projects) -->
        <div class="group bg-card-dark rounded-xl border border-white/5 overflow-hidden hover:border-primary/50 transition-all cursor-pointer">
            <div class="aspect-video bg-slate-800 relative overflow-hidden">
                @if (!string.IsNullOrEmpty(ImagePath))
                {
                    <img src="@ImagePath" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" />
                }
                else
                {
                    <div class="w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-primary/30 via-transparent to-transparent opacity-20 group-hover:scale-110 transition-transform"></div>
                    
                    <!-- Icon -->
                    <div class="absolute inset-0 flex items-center justify-center">
                        <span class="material-symbols-outlined text-5xl text-white/10 group-hover:text-primary transition-colors">joystick</span>
                    </div>
                }

                <!-- Background Gradients (Overlay) -->
                <div class="absolute inset-0 bg-gradient-to-br from-primary/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"></div>
                
                <!-- Tags -->
                <div class="absolute bottom-4 left-4 flex gap-2">
                    @if (!string.IsNullOrEmpty(StatusTag))
                    {
                        <span class="px-2 py-1 rounded bg-black/60 backdrop-blur-sm text-[10px] font-bold text-white uppercase">@StatusTag</span>
                    }
                    @if (!string.IsNullOrEmpty(SecondaryTag))
                    {
                        <span class="px-2 py-1 rounded bg-primary/80 backdrop-blur-sm text-[10px] font-bold text-white uppercase">@SecondaryTag</span>
                    }
                </div>
            </div>
            
            <div class="p-6 space-y-3">
                <h3 class="text-xl font-bold text-white group-hover:text-primary transition-colors">@Title</h3>
                <p class="text-sm text-slate-400 leading-relaxed">@Description</p>
                
                @if (TechStack != null && TechStack.Count > 0)
                {
                    <div class="flex flex-wrap gap-2 pt-2">
                        @foreach (var tech in TechStack)
                        {
                            <span class="text-[10px] font-bold text-slate-500 uppercase">@tech</span>
                        }
                    </div>
                }
            </div>
        </div>
    }
    else
    {
        <!-- Horizontal Card (School Projects) -->
        <div class="group flex flex-col md:flex-row gap-6 p-4 rounded-xl bg-card-dark/50 hover:bg-card-dark border border-transparent hover:border-white/5 transition-all">
            <!-- Thumbnail -->
            <div class="w-full md:w-48 h-32 shrink-0 rounded-lg bg-slate-800 flex items-center justify-center overflow-hidden border border-white/5 relative">
                @if (!string.IsNullOrEmpty(ImagePath))
                {
                    <img src="@ImagePath" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500" />
                    <div class="absolute inset-0 bg-gradient-to-br from-primary/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"></div>
                }
                else
                {
                    <div class="w-full h-full bg-gradient-to-r from-blue-500/10 to-primary/10 flex items-center justify-center">
                        <span class="material-symbols-outlined text-3xl text-white/20">school</span>
                    </div>
                }
            </div>
            
            <div class="flex-1 py-2">
                <div class="flex justify-between items-start">
                    <h3 class="text-lg font-bold text-white group-hover:text-primary transition-colors">@Title</h3>
                    @if (!string.IsNullOrEmpty(Year))
                    {
                        <span class="text-xs font-mono text-slate-500">@Year</span>
                    }
                </div>
                <p class="text-sm text-slate-400 mt-2">@Description</p>
                
                @if (TechStack != null && TechStack.Count > 0)
                {
                    <div class="flex gap-4 mt-4">
                        @foreach (var tech in TechStack)
                        {
                            <span class="text-[10px] text-slate-500 font-bold uppercase tracking-wider">@tech</span>
                        }
                    </div>
                }
            </div>
        </div>
    }
}

@code {
    [Parameter] public string Title { get; set; } = "";
    [Parameter] public string Description { get; set; } = "";
    [Parameter] public string ImagePath { get; set; } = "";
    [Parameter] public string ItchUrl { get; set; } = "";
    [Parameter] public List<string> TechStack { get; set; } = new();
    [Parameter] public bool IsHorizontal { get; set; } = false;
    [Parameter] public string StatusTag { get; set; } = "";
    [Parameter] public string SecondaryTag { get; set; } = "";
    [Parameter] public string Year { get; set; } = "";
}
